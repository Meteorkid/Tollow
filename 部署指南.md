# æ‰“å­—ç»ƒä¹ ç½‘ç«™éƒ¨ç½²æŒ‡å—

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### 1. æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# è®¿é—® http://localhost:4000
```

### 2. ç”Ÿäº§æ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
npm run preview
```

### 3. ä½¿ç”¨éƒ¨ç½²è„šæœ¬

```bash
# è¿è¡Œéƒ¨ç½²è„šæœ¬
./deploy.sh
```

## ğŸŒ æœåŠ¡å™¨éƒ¨ç½²

### é™æ€æ–‡ä»¶éƒ¨ç½²

1. **æ„å»ºé¡¹ç›®**
   ```bash
   npm run build
   ```

2. **ä¸Šä¼ æ–‡ä»¶**
   - å°† `dist/` ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ åˆ°æ‚¨çš„WebæœåŠ¡å™¨
   - ç¡®ä¿æ–‡ä»¶æƒé™æ­£ç¡®ï¼ˆé€šå¸¸æ˜¯644ï¼‰

3. **é…ç½®æœåŠ¡å™¨**

#### Nginxé…ç½®ç¤ºä¾‹
```nginx
server {
    listen 80;
    server_name your-domain.com;
    root /var/www/typing-practice;
    index index.html;

    # æ”¯æŒå•é¡µåº”ç”¨è·¯ç”±
    location / {
        try_files $uri $uri/ /index.html;
    }

    # é™æ€èµ„æºç¼“å­˜
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }

    # å®‰å…¨å¤´
    add_header X-Frame-Options "SAMEORIGIN" always;
    add_header X-Content-Type-Options "nosniff" always;
    add_header X-XSS-Protection "1; mode=block" always;
}
```

#### Apacheé…ç½®ç¤ºä¾‹
```apache
<VirtualHost *:80>
    ServerName your-domain.com
    DocumentRoot /var/www/typing-practice
    
    <Directory /var/www/typing-practice>
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
    
    # æ”¯æŒå•é¡µåº”ç”¨è·¯ç”±
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ /index.html [QSA,L]
</VirtualHost>
```

### 4. ç¯å¢ƒå˜é‡é…ç½®

å¦‚æœéœ€è¦é…ç½®ç¯å¢ƒå˜é‡ï¼Œåˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
VITE_APP_TITLE=æ‰“å­—ç»ƒä¹ ç½‘ç«™
VITE_APP_DESCRIPTION=æå‡æ‚¨çš„æ‰“å­—æŠ€èƒ½
```

### 5. HTTPSé…ç½®

å¼ºçƒˆå»ºè®®å¯ç”¨HTTPSï¼š

```bash
# ä½¿ç”¨Let's Encryptå…è´¹è¯ä¹¦
sudo certbot --nginx -d your-domain.com
```

## ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–

### PWAæ”¯æŒ

1. åˆ›å»º `public/manifest.json`ï¼š
```json
{
  "name": "æ‰“å­—ç»ƒä¹ ",
  "short_name": "æ‰“å­—ç»ƒä¹ ",
  "description": "æå‡æ‚¨çš„æ‰“å­—æŠ€èƒ½",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#ffffff",
  "theme_color": "#007bff",
  "icons": [
    {
      "src": "/icon-192.png",
      "sizes": "192x192",
      "type": "image/png"
    }
  ]
}
```

2. åœ¨ `index.html` ä¸­æ·»åŠ ï¼š
```html
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#007bff">
```

## ğŸ”§ æ€§èƒ½ä¼˜åŒ–

### 1. ä»£ç åˆ†å‰²
é¡¹ç›®å·²é…ç½®Viteçš„ä»£ç åˆ†å‰²åŠŸèƒ½

### 2. é™æ€èµ„æºä¼˜åŒ–
- å›¾ç‰‡å‹ç¼©
- CSS/JSå‹ç¼©
- Gzipå‹ç¼©

### 3. CDNé…ç½®
```nginx
# é™æ€èµ„æºCDN
location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
    # å¯ä»¥é…ç½®CDNåŸŸå
}
```

## ğŸ“Š ç›‘æ§å’Œåˆ†æ

### 1. é”™è¯¯ç›‘æ§
```javascript
// åœ¨main.tsxä¸­æ·»åŠ 
window.addEventListener('error', (event) => {
    console.error('Global error:', event.error);
    // å‘é€åˆ°é”™è¯¯ç›‘æ§æœåŠ¡
});
```

### 2. æ€§èƒ½ç›‘æ§
```javascript
// ç›‘æ§é¡µé¢åŠ è½½æ€§èƒ½
window.addEventListener('load', () => {
    const perfData = performance.getEntriesByType('navigation')[0];
    console.log('Page load time:', perfData.loadEventEnd - perfData.loadEventStart);
});
```

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **è·¯ç”±404é”™è¯¯**
   - ç¡®ä¿æœåŠ¡å™¨é…ç½®äº†å•é¡µåº”ç”¨è·¯ç”±æ”¯æŒ
   - æ£€æŸ¥ `try_files` æˆ– `RewriteRule` é…ç½®

2. **é™æ€èµ„æºåŠ è½½å¤±è´¥**
   - æ£€æŸ¥æ–‡ä»¶è·¯å¾„å’Œæƒé™
   - ç¡®è®¤MIMEç±»å‹é…ç½®æ­£ç¡®

3. **æ„å»ºå¤±è´¥**
   - æ£€æŸ¥Node.jsç‰ˆæœ¬ï¼ˆå»ºè®®16+ï¼‰
   - æ¸…é™¤ `node_modules` é‡æ–°å®‰è£…

4. **æ€§èƒ½é—®é¢˜**
   - å¯ç”¨Gzipå‹ç¼©
   - é…ç½®é€‚å½“çš„ç¼“å­˜ç­–ç•¥
   - ä½¿ç”¨CDNåŠ é€Ÿ

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
2. æœåŠ¡å™¨æ—¥å¿—
3. ç½‘ç»œè¯·æ±‚çŠ¶æ€
4. æ–‡ä»¶æƒé™å’Œè·¯å¾„

## ğŸ¯ ä¸‹ä¸€æ­¥

éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å¯ä»¥ï¼š
- é…ç½®åŸŸåå’ŒSSLè¯ä¹¦
- è®¾ç½®ç›‘æ§å’Œåˆ†æå·¥å…·
- ä¼˜åŒ–æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒ
- æ·»åŠ æ›´å¤šåŠŸèƒ½ç‰¹æ€§

---

**ç¥æ‚¨éƒ¨ç½²é¡ºåˆ©ï¼** ğŸš€âœ¨
